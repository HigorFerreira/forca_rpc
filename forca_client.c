/*
 * This is sample code generated by rpcgen.
 * These are only templates and you can use them
 * as a guideline for developing your own functions.
 */

#include "forca.h"


float sum(CLIENT *clnt, float n1, float n2){
	values numbers;
	float *result;

	numbers.n1 = n1;
	numbers.n2 = n2;

	result = sum_100(&numbers, clnt);

	if(result == (float *)NULL){
		fprintf(stderr, "RPC call problem\n");
		exit(1);
	}

	return *result;
}

int main(int argc, char *argv){
	CLIENT *clnt;

	float value1, value2;
	printf("Digite o valor 1: ");
	scanf("%f", &value1);
	printf("Digite o valor 2: ");
	scanf("%f", &value2);

	// printf("Before creating client\n");
	clnt = clnt_create("localhost", MATH, VERSION, "udp");
	// printf("Created client?\n\n");
	if(clnt == (CLIENT *)NULL){
		clnt_pcreateerror("localhost");
		exit(1);
	}

	// printf("Before call sum\n");
	float result = sum(clnt, value1, value2);
	printf("O resultado e: %.2f\n", result);
	exit(0);
}

// void math_100(char *host)
// {
// 	CLIENT *clnt;
// 	float  *result_1;
// 	values  sum_100_arg;

// 	sum_100_arg.n1 = 5.0;
// 	sum_100_arg.n2 = 5.0;

// 	#ifndef	DEBUG
// 		clnt = clnt_create (host, MATH, VERSION, "udp");
// 		if (clnt == NULL) {
// 			clnt_pcreateerror (host);
// 			exit (1);
// 		}
// 	#endif	/* DEBUG */

// 		result_1 = sum_100(&sum_100_arg, clnt);
// 		if (result_1 == (float *) NULL) {
// 			clnt_perror (clnt, "call failed");
// 		}
// 	#ifndef	DEBUG
// 		clnt_destroy (clnt);
// 	#endif	 /* DEBUG */

// 	printf("result_1: %f\n", *result_1);
// }


// int main (int argc, char *argv[])
// {
// 	char *host;

// 	if (argc < 2) {
// 		printf ("usage: %s server_host\n", argv[0]);
// 		exit (1);
// 	}
// 	host = argv[1];
// 	math_100 (host);
// 	exit (0);
// }
